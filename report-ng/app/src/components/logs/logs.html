<template>
    <mdc-layout-grid>
        <mdc-layout-grid-inner>
            <mdc-layout-grid-cell span="4">
                <mdc-select label="Log level"
                            value.bind="_selectedLogLevel"
                            change.delegate="_logLevelChanged()"
                            outlined
                >
                    <mdc-list>
                        <mdc-list-item>(All)</mdc-list-item>
                        <mdc-list-item repeat.for="logLevel of _availableLogLevels"
                                       value.bind="logLevel.level"
                        >${logLevel.level|logLevel}</mdc-list-item>
                    </mdc-list>
                </mdc-select>
            </mdc-layout-grid-cell>
            <mdc-layout-grid-cell span="4">
                <mdc-text-field label="Search"
                                outlined
                                value.bind="queryParams.q"
                                keydown.delegate="_filter() & debounce"
                                class="w100"
                >
                    <mdc-icon mdc-text-field-icon leading>search</mdc-icon>
                </mdc-text-field>
            </mdc-layout-grid-cell>
            <mdc-layout-grid-cell span="4"></mdc-layout-grid-cell>
            <mdc-layout-grid-cell span="12">
                <log-view if.bind="!_loading && _logMessages.length > 0"
                          log-messages.bind="_logMessages"
                          show-threads="true"
                          highlight.bind="_searchRegexp"
                ></log-view>
                <div if.bind="!_loading && !_logMessages.length"
                     mdc-ripple
                     class="alert vcenter hcenter"
                >
                    <mdc-icon class="big-icon sr1">find_in_page</mdc-icon>
                    <div mdc-headline4>No log messages matching this criteria</div>
                </div>
            </mdc-layout-grid-cell>
        </mdc-layout-grid-inner>
    </mdc-layout-grid>
</template>
