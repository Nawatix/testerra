<!--
  ~ Testerra
  ~
  ~ (C) 2020, Mike Reiche, T-Systems Multimedia Solutions GmbH, Deutsche Telekom AG
  ~
  ~ Deutsche Telekom AG and all other contributors /
  ~ copyright owners license this file to you under the Apache
  ~ License, Version 2.0 (the "License"); you may not use this
  ~ file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~ KIND, either express or implied.  See the License for the
  ~ specific language governing permissions and limitations
  ~ under the License.
  -->

<template>
  <require from="../test-duration-card/test-duration-card"></require>
  <require from="../test-results-card/test-results-card"></require>
  <require from="../test-classes-card/test-classes-card"></require>

    <mdc-layout-grid>
        <mdc-layout-grid-inner>
            <mdc-layout-grid-cell span="3">
                <mdc-card>
                    <div mdc-subtitle2 class="card-headline">Tests: ${_executionStatistics.overallTestCases}</div>
                    <mdc-list-divider></mdc-list-divider>
                    <div class="flex card-content">
                        <mdc-list two-line avatar class="w75 p0">
                            <mdc-list-item  click.delegate="_resultClicked(7)">
                                <mdc-icon mdc-list-item-graphic class="colored-icon status-failed big-icon">${7|statusIconName}</mdc-icon>
                                <mdc-list-item-primary-text>${_executionStatistics.overallFailed}</mdc-list-item-primary-text>
                                <mdc-list-item-secondary-text>${7|statusName}</mdc-list-item-secondary-text>
                            </mdc-list-item>
                            <mdc-list-item click.delegate="_resultClicked(3)">
                                <mdc-icon mdc-list-item-graphic class="colored-icon status-skipped big-icon">${3|statusIconName}</mdc-icon>
                                <mdc-list-item-primary-text>${_executionStatistics.overallSkipped}</mdc-list-item-primary-text>
                                <mdc-list-item-secondary-text>${3|statusName}</mdc-list-item-secondary-text>
                            </mdc-list-item>
                            <mdc-list-item click.delegate="_resultClicked(4)">
                                <mdc-icon mdc-list-item-graphic class="colored-icon status-passed big-icon">${4|statusIconName}</mdc-icon>
                                <mdc-list-item-primary-text>${_executionStatistics.overallPassed}</mdc-list-item-primary-text>
                                <mdc-list-item-secondary-text>${4|statusName}</mdc-list-item-secondary-text>
                            </mdc-list-item>
                        </mdc-list>
                        <ul class="mdc-list mdc-list--two-line mdc-list--avatar-list w50 p0">
                            <li class="mdc-list-item reset-cursor">
                                <span class="mdc-list-item__text" if.bind="_failedRetried>0">
                                    <div class="mdc-list-item__primary-text">+ ${_failedRetried}</div>
                                    <div class="mdc-list-item__secondary-text">Retried</div>
                                </span>
                            </li>
                            <li class="mdc-list-item"></li>
                            <li class="mdc-list-item reset-cursor">
                                <span class="mdc-list-item__text"  if.bind="_passedRetried>0">
                                    <div class="mdc-list-item__primary-text">+ ${_passedRetried}</div>
                                    <div class="mdc-list-item__secondary-text">Retried</div>
                                </span>
                            </li>
                        </ul>
                    </div>
                    <div class="hcenter vcenter card-content">
                        <span mdc-body2 class="secondary sr1">Failure Aspects</span>
                        <span mdc-body1>
                            <a route-href="route: failureAspects; params.bind: {type: 'major'}">${_majorFailures} Major</a> and <a route-href="route: failureAspects; params.bind: {type: 'minor'}">${_minorFailures} Minor</a>
                        </span>
                    </div>
                </mdc-card>
            </mdc-layout-grid-cell>
            <mdc-layout-grid-cell span="6">
                <test-results-card result.bind="_selectedResult" execution-statistics.bind="_executionStatistics" piece-clicked.delegate="_pieceClicked($event)"></test-results-card>
            </mdc-layout-grid-cell>
            <mdc-layout-grid-cell span="3">
                <test-duration-card start.bind="_executionStatistics.executionAggregate.executionContext.contextValues.startTime"
                                    end.bind="_executionStatistics.executionAggregate.executionContext.contextValues.endTime"
                ></test-duration-card>
            </mdc-layout-grid-cell>
            <mdc-layout-grid-cell span="12">
                <test-classes-card filter.bind="queryParams" class-statistics.bind="_executionStatistics.classStatistics" bar-clicked.delegate="_gotoTests($event.detail.params)"></test-classes-card>
            </mdc-layout-grid-cell>
        </mdc-layout-grid-inner>
    </mdc-layout-grid>
</template>
