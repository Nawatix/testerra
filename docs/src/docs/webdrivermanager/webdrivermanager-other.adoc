= Working with sessions

== Get current session

.Get the current session context with information about your WebDriver session.
[source,java]
----
WebDriver driver = WebDriverManager.getWebDriver();
Optional<SessionContext> sessionContext = WebDriverSessionsManager.getSessionContext(driver);
----

== Switching windows

Sometimes you will come across testing websites with multiple windows, such as popups or something similar.

[source,java]
----
// Switch to a window by matching title
WebDriver webDriver = WEB_DRIVER_MANAGER.switchToWindowTitle(WebDriver webDriver, String windowTitle);

// Switch to a given window handle
WebDriver webDriver = WEB_DRIVER_MANAGER.switchToWindowHandle(WebDriver webDriver, String windowHandle);

// Switch to a window by a custom condition
Optional<WebDriver> optionalWebDriver = WEB_DRIVER_MANAGER.switchToWindow(WebDriver webDriver, webDriver -> webDriver.getCurrentUrl().contains("login"));

Assert.assertTrue(optionalWebDriver.isPresent(), "Login window not found");
----
